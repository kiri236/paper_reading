{"layout":"logicalStructure","root":{"data":{"text":"<p>FastV</p>","expand":true,"uid":"9afe8d6b-cc6f-4259-bb4c-8c87dd0452a6","richText":true,"isActive":false,"imgMap":{}},"children":[{"data":{"text":"<p>概述</p>","uid":"fc7377bf-8355-4947-9a8d-551a7bfc7956","expand":true,"richText":true,"isActive":false,"dir":"right"},"children":[{"data":{"text":"<p>利用前层学习注意力模式,后层剪枝的方法优化计算效率</p>","uid":"abe32cf8-612c-4018-933a-5bb4621ef5fd","expand":true,"richText":true,"isActive":false},"children":[]}]},{"data":{"text":"<p>问题</p>","expand":true,"richText":true,"isActive":false,"uid":"9e9b9bea-e829-4948-a00f-c473d8285f0c","dir":"right"},"children":[{"data":{"text":"<p>在基于token的LVLMs中,图像token获得的注意力分数较文本token而言显著偏低</p>","uid":"7dea52d4-e6d6-4094-b673-a18b92bf7ec4","expand":true,"richText":true,"isActive":false},"children":[]},{"data":{"text":"<p>在深层中图像token获得的注意力评分要远小于浅层获得的评分</p>","expand":true,"richText":true,"isActive":false,"uid":"1a4bd5af-6f93-41af-aa9d-d635878e5f42"},"children":[]}]},{"data":{"text":"<p>假设</p>","expand":true,"richText":true,"isActive":false,"uid":"7fb9ae5b-a7f4-4405-85e9-db62f24e6b64","dir":"left"},"children":[{"data":{"text":"<p>图像信号的高度冗余性,导致图像相关的特征通过浅层注意力聚集到某些anchor tokens上,而这些anchor tokens并非图像token</p>","uid":"413b16c6-f53c-477d-acc6-31c131b8b0c7","expand":true,"richText":true,"isActive":false},"children":[]},{"data":{"text":"<p>在深层网络中,这些anchor tokens的存在,使得聚集在图像token上的注意力减少</p>","expand":true,"richText":true,"isActive":false,"uid":"6513acee-1f1d-4cee-ba17-d3dc7b91f700"},"children":[]}]},{"data":{"text":"<p>idea</p>","expand":true,"richText":true,"isActive":false,"uid":"ee1b2e82-466c-49ef-9447-bac561aff18c","dir":"left"},"children":[{"data":{"text":"<p>既然在深层网络中图像token上的注意力衰减,图像token对输出的贡献较小,那么为什么不将其移除</p>","uid":"41a358dd-b368-4741-b2ed-e8559477e6d9","expand":true,"richText":true,"isActive":false},"children":[]},{"data":{"text":"<p>在一定的层级以后,根据图像token的平均注意力得分对其进行评估,低于指定阈值的就将其舍弃</p>","expand":true,"richText":true,"isActive":false,"uid":"f70fbd27-0f72-446f-b685-bdd96c59e769"},"children":[]}]},{"data":{"text":"<p>实验及结果</p>","expand":true,"richText":true,"isActive":false,"uid":"315d8c00-7091-4359-bcc5-23dde5145b77"},"children":[{"data":{"text":"<p>LVLM中的低效注意力现象</p>","uid":"9424f651-6ce0-4569-9c03-9b139ba66894","expand":true,"richText":true,"isActive":false},"children":[{"data":{"text":"<p>实验设置</p>","expand":true,"richText":true,"isActive":false,"uid":"02c6f973-b937-49cc-86ff-805dfe8c1822"},"children":[{"data":{"text":"<p>用1000个图像-文本对作为输入,采用LLaVA1.5-7B作为LVLM</p>","uid":"cee0d1ec-9a24-49fd-bc34-b158925a7319","expand":true,"richText":true,"isActive":false},"children":[]},{"data":{"text":"<p>前两层定义为浅层,其余30层定义为深层</p>","expand":true,"richText":true,"isActive":false,"uid":"0b940412-c31f-4d02-9369-8828ed87d7b7"},"children":[]}]},{"data":{"text":"<p>实验结果</p>","expand":true,"richText":true,"isActive":false,"uid":"9e97a8e5-55ba-4d78-a3a8-ab8689afa402"},"children":[{"data":{"text":"<p>注意力分配和注意力效率均表现出不同程度的不均衡性</p>","uid":"5d85325b-13aa-40bd-8fda-d5ff0e1421bd","expand":true,"richText":true,"isActive":false},"children":[{"data":{"text":"<p>浅层的注意力分配较深层更均匀</p>","uid":"2099e837-d873-4c48-bf06-380a3a91b74f","expand":true,"richText":true,"isActive":false},"children":[]},{"data":{"text":"<p>浅层倾向于关注先前的输出token,而深层更倾向于关注sys prompt token</p>","expand":true,"richText":true,"isActive":false,"uid":"76196bd8-5e99-4609-ad8b-7bec1a49f102"},"children":[]}]},{"data":{"text":"<p>图像token的注意力效率最低</p>","expand":true,"richText":true,"isActive":false,"uid":"d9d2e37d-f697-4fd3-a6d0-6db5acea7f32"},"children":[]}]}]},{"data":{"text":"<p>FastV实验</p>","expand":true,"richText":true,"isActive":false,"uid":"2da59973-5dd1-43b4-a7d2-b5efc4f16812"},"children":[{"data":{"text":"<p>在各项实验中选定K=2,R=50%能保持各项评测分数的同时,显著降低FLOPs</p>","uid":"e556b138-7936-44e0-96ac-f5cb396c7e94","expand":true,"richText":true,"isActive":false},"children":[]},{"data":{"text":"<p>值得注意的是,在video问答任务上,FastV能节省40%+计算量的同时,提升问答任务的性能</p>","expand":true,"richText":true,"isActive":false,"uid":"c7a5d59b-8466-4da8-abeb-b47bdf0e938b"},"children":[{"data":{"text":"<p>这是因为视频中的冗余信息更多</p>","uid":"9f35b2ac-43d9-4cee-810d-969071582ea2","expand":true,"richText":true,"isActive":false},"children":[]}]},{"data":{"text":"<p>K较小时,改变R降低R能在较小降低FLOPs的情况下提升性能;而K较大时调整R对整体性能影响不大</p>","expand":true,"richText":true,"isActive":false,"uid":"c2686ba8-104d-4a34-90f3-c26338c1d07d"},"children":[]}]}]},{"data":{"text":"<p>FastV</p>","uid":"151ef98e-5e64-4594-b45a-639aac38efbc","expand":true,"richText":true,"isActive":false},"children":[{"data":{"text":"<p>依据一个标准<span class=\"ql-formula\" data-value=\"\\phi\">﻿<span contenteditable=\"false\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\phi</annotation></semantics></math></span></span>﻿</span>对图像令牌进行排序,指定一个比率R%,排序后最后R%的图像令牌将被舍弃</p>","uid":"cf66eda7-86cd-48b0-8845-4bbcc16b884d","expand":true,"richText":true,"isActive":false},"children":[{"data":{"text":"<p>一般<span class=\"ql-formula\" data-value=\"\\phi\">﻿<span contenteditable=\"false\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding=\"application/x-tex\">\\phi</annotation></semantics></math></span></span>﻿</span>取其他token在当前token处的注意力的平均</p>","uid":"54b0e822-701f-4d94-9c0c-ff772564c50e","expand":true,"richText":true,"isActive":false},"children":[]}]},{"data":{"text":"<p>如果直接在输入时减少图像token的输入(输入更低分辨率的图像),那么性能会下降,如果用FastV进行剪枝,可以在确保性能几乎不变的情况下带来FLOPs的下降</p>","expand":true,"richText":true,"isActive":false,"uid":"f1844299-1064-465c-a02b-737f93705a1b"},"children":[]}]}],"smmVersion":"0.14.0-fix.1"},"theme":{"template":"classic4","config":{}},"view":{"transform":{"scaleX":1,"scaleY":1,"shear":0,"rotate":0,"translateX":-603,"translateY":-248,"originX":0,"originY":0,"a":1,"b":0,"c":0,"d":1,"e":-603,"f":-248},"state":{"scale":1,"x":-603,"y":-248,"sx":-640,"sy":-257}}}